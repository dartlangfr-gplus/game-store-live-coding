<!DOCTYPE html>

<link rel="import" href="game.html">

<polymer-element name="x-games">
	<template>
		<header class="page-header">
		    <h1>Games <small>7 games</small>
		        <a href="#/games/new" class="btn btn-primary">Add a game</a>
		    </h1>
		</header>

		<section class="well form-inline">
		    <input type="text" placeholder="Search" class="span5">
		    <section class="pull-right">
		    	<!-- Story 4 - On-click switch between icon-th-list and icon-th class -->
		        <button class="btn btn-success"><i class="icon-white icon-th-list"></i></button>
		        <button class="btn btn-info">Sort by name</button>
		        <button class="btn btn-info">Sort by rating</button>
		    </section>
		</section>

		<template if="{{!isCompact}}">
		  <div class="games">
			  <template repeat="{{game in games | filterSearch(search) | sortBy(sortField, sortAscending)}}">
			    <x-game game="{{game}}" on-delete="{{delete}}"></x-game>
			  </template>
		  </div>
	  </template>

    <template if="{{isCompact}}">
	    <table class="table table-striped">
			    <thead>
			    <tr>
			        <th>Name</th>
			        <th>Genre</th>
			        <th>Rating</th>
			    </tr>
			    </thead>
			    <tbody>
	         <template repeat="{{game in games | filterSearch(search) | sortBy(sortField, sortAscending)}}">
					    <tr>
					        <td>{{game.name}}</td>
					        <td>{{game.genre}}</td>
					        <td>{{game.rating | stars}}</td>
					    </tr>
	         </template>
			    </tbody>
			</table>
    </template>
	</template>
  <script type="application/dart" src="games.dart"></script>
</polymer-element>